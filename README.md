# MediTrack Rx - Медицинская Информационная Система

Это приложение на Next.js, разработанное в Firebase Studio, для управления медицинскими данными, включая пациентов, медикаменты, назначения и выдачи препаратов. Оно включает AI-аналитику для получения ценных выводов из данных.

## Возможности

*   **Панель управления**: Отображает ключевую статистику и быстрые действия.
*   **Управление данными (CRUD)**: Полная поддержка операций для пациентов, медикаментов, назначений и выдач с подключением к базе данных PostgreSQL через Prisma.
*   **AI-аналитика**: Использует Google Gemini для генерации аналитических отчетов по данным системы.
*   **Отчетность**: Генерирует сводные отчеты с возможностью печати и экспорта в CSV.
*   **Адаптивный дизайн**: Корректно отображается как на настольных компьютерах, так и на мобильных устройствах.
*   **Локальная аутентификация**: Используется простая система имитации входа без внешних зависимостей.

## Технологический стек

*   **Фреймворк**: Next.js (с App Router)
*   **UI**: React, ShadCN UI, Tailwind CSS
*   **ORM**: Prisma
*   **База данных**: PostgreSQL
*   **Искусственный интеллект**: Genkit с Google Gemini
*   **Язык**: TypeScript

## Системные требования

*   Node.js (рекомендуется версия 20.x или выше)
*   Пакетный менеджер: npm, yarn или pnpm
*   Доступ к базе данных PostgreSQL

## Как запустить проект локально

Выполните следующие шаги, чтобы запустить проект на вашем компьютере для разработки.

### 1. Клонируйте или скачайте проект

Сначала получите файлы проекта на свой компьютер.

### 2. Установите зависимости

Перейдите в корневую папку проекта через терминал и выполните команду для установки всех необходимых пакетов:

```bash
npm install
```

### 3. Настройте переменные окружения

Для работы приложения необходимо настроить подключение к базе данных PostgreSQL и, опционально, ключ для AI-функций.

1.  Создайте файл `.env` в корневой папке проекта, скопировав `.env.example` (если он есть) или создав его с нуля.
2.  Добавьте в него следующие переменные:

    ```env
    # Строка подключения к вашей базе данных PostgreSQL
    # Пример: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
    DATABASE_URL="ВАША_СТРОКА_ПОДКЛЮЧЕНИЯ_К_POSTGRESQL"

    # Опционально: Ключ API для функций Gemini AI
    GEMINI_API_KEY="ВАШ_GEMINI_API_КЛЮЧ"
    ```

3.  Замените `ВАША_СТРОКА_ПОДКЛЮЧЕНИЯ_К_POSTGRESQL` на вашу реальную строку подключения.
4.  Если вы планируете использовать AI-аналитику, замените `ВАШ_GEMINI_API_КЛЮЧ` на ваш ключ, полученный в [Google AI Studio](https://aistudio.google.com/app/apikey).

### 4. Примените схему базы данных

Прежде чем запустить приложение, Prisma должна создать таблицы в вашей базе данных. Выполните команду:

```bash
npx prisma db push
```

Эта команда проанализирует файл `prisma/schema.prisma` и создаст соответствующие таблицы в вашей PostgreSQL базе данных.

### 5. Запустите сервер для разработки

Теперь, когда все настроено, запустите локальный сервер:

```bash
npm run dev
```

После выполнения команды вы увидите в терминале адрес, по которому будет доступно приложение. Обычно это `http://localhost:9002`. Откройте эту ссылку в вашем браузере.

## Доступные скрипты

*   `npm run dev`: Запускает приложение в режиме разработки.
*   `npm run build`: Собирает приложение для продакшена.
*   `npm run start`: Запускает продакшен-сборку приложения.
*   `npm run lint`: Запускает проверку кода с помощью ESLint.
*   `npm run typecheck`: Проверяет типы TypeScript без создания сборки.
*   `npx prisma studio`: Открывает UI для просмотра и редактирования данных в вашей базе.

    